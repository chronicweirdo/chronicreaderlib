<!DOCTYPE html>
<html>
<head>
    <script src="/libs/jszip.js"></script>
    <!--script src="/libs/zip.js"></script-->
    <script src="/libs/bookNode.js"></script>
    <script src="/libs/reader.js"></script>
    <script>
        var bookUrl = "/books/That_Affair_at_Elizabeth_by_Burton_Egbert_Stevenson.epub"
        var book;
        var bookDisplay;
        window.onload = function() {
            fetch(bookUrl)
                .then(res => res.blob())
                .then(blob => new ZipWrapper(blob))
                .then(zip => new EbookWrapper(zip))
                .then(ebook => {
                    bookDisplay = new EbookDisplay(document.getElementById("page"), ebook, 3500)
                })
        }
        window.addEventListener('resize', function() {
            bookDisplay.refresh()
        }, true)
    </script>
    <style>
        body {
            overflow: hidden;
        }
        .page {
            position: fixed;
            width: 80%;
            height: 80%;
            top: 10%;
            left: 10%;
            background-color: #cc9999;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div id="page" class="page"></div>
</body>
</html>